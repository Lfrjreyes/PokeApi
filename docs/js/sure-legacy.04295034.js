"use strict";(self["webpackChunkvuetify"]=self["webpackChunkvuetify"]||[]).push([[173],{7081:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("SureTable",{attrs:{data:e.sureListState,dataSureType:e.sureTypeListState,dataInsuranceCarrier:e.insuranceCarrierListState},on:{DeleteSure:e.DeleteSure,addSure:e.addSure,updateSure:e.updateSure}})],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Seguro")])])}],s=a(3019),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.data,search:e.search,"sort-by":"Tipo"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-col",{attrs:{cols:"8",sm:"4",md:"2"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"900px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),r),[e._v(" Añadir ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("validation-provider",{attrs:{name:"selectSureType",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{items:e.dataSureType,"error-messages":r,label:"Selecionar Tipo de seguro","item-text":"name","item-value":"id","data-vv-name":"selectSureType",bottom:"",autocomplete:"",required:""},model:{value:e.selectSureType,callback:function(t){e.selectSureType=t},expression:"selectSureType"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("validation-provider",{attrs:{name:"selectInsuranceCarrier",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{items:e.dataInsuranceCarrier,"error-messages":r,label:"Selecionar compañía de seguros","item-text":"name","item-value":"id","data-vv-name":"selectInsuranceCarrier",bottom:"",autocomplete:"",required:""},model:{value:e.selectInsuranceCarrier,callback:function(t){e.selectInsuranceCarrier=t},expression:"selectInsuranceCarrier"}})]}}],null,!0)})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"mr-4",staticStyle:{color:"#E5F0F4"},attrs:{type:"submit",color:"#002F6C",disabled:r}},[e._v(" Guardar ")])],1),a("br")],1)],1)]}}])})],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("¿Está seguro que desea eliminar?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}}])})],1)},l=[],d=a(4479),u=a(2954);(0,u.UF)("eager"),(0,u.l7)("required",(0,s.Z)((0,s.Z)({},d.C1),{},{message:" Campo no puede ir vacío"})),(0,u.l7)("max",(0,s.Z)((0,s.Z)({},d.Fp),{},{message:" No puede ser mayor que {length} caracteres"}));var o={name:"TableSure",components:{ValidationProvider:u.d_,ValidationObserver:u._j},props:["data","dataSureType","dataInsuranceCarrier"],data:function(){return{search:"",checkbox:null,dialog:!1,dialogDelete:!1,updateSure:!1,select:null,selectSureType:null,selectInsuranceCarrier:null,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Seguro",value:"insuranceCarrier.name"},{text:"Compañia aseguradora",value:"sureType.name"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{createdAt:"",createdBy:"",endDate:"",id:0,insuranceCarrier:{id:0},startDate:"",sureType:{id:0},updatedAt:"",updatedBy:"",value:0},defaultItem:{}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Componente":"Editar Componente"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{submit:function(){this.$refs.observer.validate()?(this.editedItem.sureType.id=this.selectSureType,this.editedItem.insuranceCarrier.id=this.selectInsuranceCarrier,this.save()):console.log("completar los campos")},editItem:function(e){this.editedItem=Object.assign({},e),this.editedItem.sureType.id=this.selectSureType,this.editedItem.insuranceCarrier.id=this.selectInsuranceCarrier,this.updateSure=!0,this.dialog=!0},deleteItem:function(e){this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.$emit("DeleteSure",this.editedItem.id),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.updateSure?this.$emit("updateSure",this.editedItem):this.$emit("addSure",this.editedItem),this.updateSure=!1,this.close()}}},c=o,m=a(3736),p=a(3453),v=a.n(p),h=a(6847),f=a(2026),S=a(5255),b=a(7024),C=a(1819),g=a(1455),y=a(5634),I=a(4456),T=a(7894),x=a(530),D=a(2515),k=a(2660),_=a(1652),Z=(0,m.Z)(c,n,l,!1,null,"6bb205da",null),V=Z.exports;v()(Z,{VBtn:h.Z,VCard:f.Z,VCardActions:S.h7,VCardText:S.ZB,VCardTitle:S.EB,VCol:b.Z,VContainer:C.Z,VDataTable:g.Z,VDialog:y.Z,VIcon:I.Z,VRow:T.Z,VSelect:x.Z,VSpacer:D.Z,VTextField:k.Z,VToolbar:_.Z});var j=a(629),w={name:"Sure",components:{SureTable:V},data:function(){return{jsonDataUpdate:{createdAt:"",createdBy:"",endDate:"",id:0,insuranceCarrier:{id:0},startDate:"",sureType:{id:0},updatedAt:"",updatedBy:"",value:0}}},created:function(){this.getSureState(),this.getSureTypeState(),this.getInsuranceCarrierState()},computed:(0,s.Z)({},(0,j.Se)(["sureListState","sureTypeListState","insuranceCarrierListState"])),methods:(0,s.Z)((0,s.Z)({},(0,j.nv)(["getInsuranceCarrierState","getSureTypeState","getSureState","setSurenew","apiUpdateSure","apiDeleteSure"])),{},{addSure:function(e){this.setSurenew(e)},updateSure:function(e){this.jsonDataUpdate.insuranceCarrier.id=e.insuranceCarrier.id,this.jsonDataUpdate.sureType.id=e.sureType.id,this.jsonDataUpdate.insuranceCarrier.id=e.insuranceCarrier.id,this.apiUpdateSure(this.jsonDataUpdate)},DeleteSure:function(e){this.apiDeleteSure(e)}})},$=w,B=(0,m.Z)($,r,i,!1,null,"71a412b3",null),U=B.exports}}]);
//# sourceMappingURL=sure-legacy.04295034.js.map